 <script type="text/javascript">
            var chart;
            var legend;
            var chartData =<%= render partial:  "expenses/index.json.jbuilder", :format => :json, :local => @expense%>
             

            AmCharts.ready(function () {
                // SERIAL CHART
                chart = new.AmCharts.AmSerialChart();
                chart.dataProvider = chartData;
                chart.catagoryfield = "period";
                chart.plotAreaBorderAlpha = 0.2;

                //AXES
                //category
                var categoryAxis = chart.categoryAxis;
                categoryAxis.gridAlpha = 0.1;
                categoryAxis.axisAlpha = 0;
                categoryAxis.gridPosition = "start";

                //value
                var valueAxis = new AmCharts.ValueAxis();
                valueAxis.stackType = "regular";
                valueAxis.gridAlpha = 0.1;
                valueAxis.axisAlpha = 0;
                chart.addValueAxis(valueAxis);

                //firstgraph--first period
                var graph = newAmCharts.AmGraph();
                graph.title = "Period";
                graph.labeltext = "[[value]]";
                graph.valuefield = "period";
                graph.type = "column"
                graph.lineAlpha = 0;
                graph.fillAlphas = 1;
                graph.lineColor = "#D8E0BD";
                graph.balloonText = "<span style='color:#555555;'>[[category]]</span><br><span style='font-size:14px'>[[title]]:<b>[[value]]</b></span>";
                chart.addGraph(graph);

                // LEGEND                  
                var legend = new AmCharts.AmLegend();
                legend.borderAlpha = 0.2;
                legend.horizontalGap = 10;
                chart.addLegend(legend);
                

                // WRITE
                chart.write("chartdiv");
            });			
</script>
<div id="chartdiv" style="width: 100%; height: 400px; background-color: #FFFFFF;" ></div>